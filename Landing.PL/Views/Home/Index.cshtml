<!-- Carousel Start -->
@model IndexVm
<div class="container-fluid p-0">
    <div id="header-carousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            @{
                bool isFirst = true;
            }
            @foreach (var item in Model.HomeLabels)
            {
                <div class="carousel-item @(isFirst ? "active" : "")">
                    <img class="w-100" src="~/files/images/@item.ImageName" alt="Image">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 800px;">
                            <h4 class="text-primary text-uppercase font-weight-normal mb-md-3">@item.Name</h4>
                            <h3 class="display-3 text-white mb-md-4">@Html.Raw(item.Description)</h3>
                            
                        </div>
                    </div>
                </div>
               
                    isFirst = false;
                
            }
        </div>
       
        <a class="carousel-control-prev" href="#header-carousel" data-slide="prev">
            <div class="btn btn-primary" style="width: 45px; height: 45px;">
                <span class="carousel-control-prev-icon mb-n2"></span>
            </div>
        </a>
        <a class="carousel-control-next" href="#header-carousel" data-slide="next">
            <div class="btn btn-primary" style="width: 45px; height: 45px;">
                <span class="carousel-control-next-icon mb-n2"></span>
            </div>
        </a>
    </div>
</div>
<!-- Carousel End -->
<!-- About Start -->
<div class="container-fluid bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-5">
                <div class="d-flex flex-column align-items-center justify-content-center bg-primary h-100 py-5 px-3">
                    <i class="flaticon-brickwall display-1 font-weight-normal text-secondary mb-3"></i>
                    <h4 class="display-3 mb-3">25+</h4>
                    <h1 class="m-0">Years Experience</h1>
                </div>
            </div>
            <div class="col-lg-7 m-0 my-lg-5 pt-5 pb-5 pb-lg-2 pl-lg-5">
                <h6 class="text-primary font-weight-normal text-uppercase mb-3">Learn About Us</h6>
                <h1 class="mb-4 section-title">We Are The Best Interior Designing Firm In Your City</h1>
                <p>Invidunt lorem justo sanctus clita. Erat lorem labore ea, justo dolor lorem ipsum ut sed eos, ipsum et dolor kasd sit ea justo. Erat justo sed sed diam. Ea et erat ut sed diam sea ipsum est dolor</p>
                <div class="row py-2">
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center mb-4">
                            <h1 class="flaticon-house font-weight-normal text-primary m-0 mr-3"></h1>
                            <h5 class="text-truncate m-0">Project Planning</h5>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center mb-4">
                            <h1 class="flaticon-stairs font-weight-normal text-primary m-0 mr-3"></h1>
                            <h5 class="text-truncate m-0">Exterior & Interior</h5>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center mb-4">
                            <h1 class="flaticon-office font-weight-normal text-primary m-0 mr-3"></h1>
                            <h5 class="text-truncate m-0">Commercial Design</h5>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center mb-4">
                            <h1 class="flaticon-living-room font-weight-normal text-primary m-0 mr-3"></h1>
                            <h5 class="text-truncate m-0">Residential Design</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- About End -->
<!-- Services Start -->
<div class="container-fluid py-5">
    <div class="container py-5">
        <div class="row">
            <div class="col-lg-6 pr-lg-5">
                <h6 class="text-primary font-weight-normal text-uppercase mb-3">Our Awesome Designs</h6>
                <h1 class="mb-4 section-title">Awesome Interior Designing Services For Your Home</h1>
                <p>We have many wonderful and distinctive designs at excellent prices, great offers, and excellent services.</p>
                
            </div>
            <div class="col-lg-6 p-0 pt-5 pt-lg-0">
                <div class="owl-carousel service-carousel position-relative">
                    @foreach (var item in ViewBag.designs)
                    {
                        <div class="d-flex flex-column text-center bg-light mx-3 p-4">
                            <h3 class="flaticon-@item.Flaticon.Name display-3 font-weight-normal text-primary mb-3"></h3>
                            <h5 class="mb-3">@item.Name</h5>

                            <p>@Html.Raw(item.Description)</p>
                        </div>
                    }
                  
                   
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Services End -->
<!-- Features Start -->
<div class="container-fluid bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-7 mt-5 py-5 pr-lg-5">
                <h6 class="text-primary font-weight-normal text-uppercase mb-3">Why Choose Us?</h6>
                <h1 class="mb-4 section-title">25+ Years Experience In The Interior Design Industry</h1>
                <p class="mb-4">We have a lot of experience in this field, in addition to providing the best designs for homes and others.</p>
                <ul class="list-inline">
                    <li><h5><i class="far fa-check-square text-primary mr-3"></i>25+ Years Experience</h5></li>
                    <li><h5><i class="far fa-check-square text-primary mr-3"></i>Best Interior Design</h5></li>
                    <li><h5><i class="far fa-check-square text-primary mr-3"></i>Customer Satisfaction</h5></li>
                </ul>
                
            </div>
            <div class="col-lg-5">
                <div class="d-flex flex-column align-items-center justify-content-center h-100 overflow-hidden">
                    <img class="h-100" src="~/img/feature.jpg" alt="">
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Features End -->
<!-- Projects Start -->
<div class="container-fluid py-5">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8 col text-center mb-4">
                <h6 class="text-primary font-weight-normal text-uppercase mb-3">Our Projects</h6>
                <h1 class="mb-4">Some Of Our Awesome Interior Designing Projects</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-12 text-center mb-2">
                <ul class="list-inline mb-4" id="portfolio-flters">
                    <li class="btn btn-outline-primary m-1 active" data-filter="*">All</li>
                    @foreach (var design in ViewBag.designs)   // Designs
                    {
                        <li class="btn btn-outline-primary m-1" data-filter=".@design.Name.Replace(" ", "-")">@design.Name</li>
                    }
                </ul>
            </div>
        </div>
        <div class="row mx-1 portfolio-container">
            
            @foreach (var item in ViewBag.items) // items
            {
                <!-- تأكد من عدم وجود مسافات أو أحرف خاصة في الكلاس -->
                <div class="col-lg-4 col-md-6 col-sm-12 p-0 portfolio-item @item.Design.Name.Replace(" ", "-")">
                    <div class="position-relative overflow-hidden">
                        <div class="portfolio-img d-flex align-items-center justify-content-center">
                            <img class="img-fluid" src="~/files/images/@item.ImageName" alt="@item.Name">
                        </div>
                        <div class="portfolio-text bg-secondary d-flex flex-column align-items-center justify-content-center">
                            <h4 class="text-white mb-4">@item.Name</h4>
                            <div class="d-flex align-items-center justify-content-center">
                                <a class="btn btn-outline-primary m-1" href="@Url.Action("Info", "Home", new { id = item.Id})">
                                    <i class="fa fa-link"></i>
                                </a>
                                <a class="btn btn-outline-primary m-1" href="~/files/images/@item.ImageName" data-lightbox="portfolio">
                                    <i class="fa fa-eye"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
           
         
        </div>
    </div>
</div> 
<!-- Projects End -->
<!-- Team Start -->
<div class="container-fluid bg-light">
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-6">
                <div class="py-5 px-4 h-100 bg-primary d-flex flex-column align-items-center justify-content-center">
                    <h6 class="text-white font-weight-normal text-uppercase mb-3">Our Team</h6>
                    <h1 class="mb-0 text-center">Meet Our Team Members</h1>
                </div>
            </div>
            <div class="col-md-8 col-sm-6 p-0 py-sm-5">
                <div class="owl-carousel team-carousel position-relative p-0 py-sm-5">
                     @if (ViewBag.social is not null)
                    {
                     
                        string lastDisplayedName = ""; // لحفظ اسم آخر شخص تم عرضه
                        
                        foreach (var item in ViewBag.social)
                        {
                            if (item.ApplecationUser != null && item.ApplecationUser.Profile != null)
                            {
                            // تحقق مما إذا كان الحساب ليس شخصيًا وأنه لم يتم عرضه من قبل
                            if (item.ApplecationUser.Profile.Name != lastDisplayedName)
                            {
                                lastDisplayedName = item.ApplecationUser.Profile.Name; // تحديث آخر اسم تم عرضه

                                <div class="team d-flex flex-column text-center mx-3">
                                    <div class="position-relative">
                                        <img class="img-fluid w-100" src="~/fileProfile/images/@item.ApplecationUser.Profile.ProfilePictureUrl" alt="">
                                        <div class="team-social d-flex align-items-center justify-content-center w-100 h-100 position-absolute">
                                            @foreach (var socialItem in ViewBag.social)
                                            {
                                                    if (socialItem.ApplecationUser != null && socialItem.ApplecationUser.Profile != null)
                                                    {
                                                        // عرض الأيقونات فقط للحسابات الاجتماعية لهذا الشخص
                                                        if (socialItem.ApplecationUser.Profile.Name == lastDisplayedName)
                                                        {
                                                            string socialIcon = "";

                                                            // تحديد أيقونة الشبكة الاجتماعية
                                                            if (socialItem.SocialName.Equals("Facebook", StringComparison.OrdinalIgnoreCase))
                                                            {
                                                                socialIcon = "facebook-f";
                                                            }
                                                            else if (socialItem.SocialName.Equals("Twitter", StringComparison.OrdinalIgnoreCase))
                                                            {
                                                                socialIcon = "twitter";
                                                            }
                                                            else if (socialItem.SocialName.Equals("Linkedin", StringComparison.OrdinalIgnoreCase))
                                                            {
                                                                socialIcon = "linkedin-in";
                                                            }
                                                            else if (socialItem.SocialName.Equals("Instagram", StringComparison.OrdinalIgnoreCase))
                                                            {
                                                                socialIcon = "instagram";
                                                            }
                                                            else if (socialItem.SocialName.Equals("Youtube", StringComparison.OrdinalIgnoreCase))
                                                            {
                                                                socialIcon = "youtube";
                                                            }

                                                            // إضافة أيقونة الشبكة الاجتماعية
                                                            <a class="btn btn-outline-primary text-center mr-2 px-0" style="width: 38px; height: 38px;" href="@Html.Raw(socialItem.Url.Replace("<p>", "").Replace("</p>", "").Trim())" target="_blank">
                                                                <i class="fab fa-@socialIcon"></i>
                                                            </a>
                                                        }
                                                    }
                                                }
                                        </div>
                                    </div>
                                    <div class="d-flex flex-column bg-secondary text-center py-3">
                                        <h5 class="text-white">@item.ApplecationUser.Profile.Name</h5>
                                        <p class="m-0">@Html.Raw(item.ApplecationUser.Profile.Bio)</p>
                                    </div>
                                </div>
                            }
                            }
                        }
                        
                    }
                </div>
            </div>
 


        </div>
    </div>
</div> 
<!-- Team End -->
<!-- Testimonial Start -->
<div class="container-fluid">
    <div class="container">
        <div class="row">
            <div class="col-md-7 py-5 pr-md-5">
                <h6 class="text-primary font-weight-normal text-uppercase mb-3 pt-5">Testimonial</h6>
                <h1 class="mb-4 section-title">What Our Clients Say</h1>

                <!-- زر إضافة Feedback -->
                <div class="mb-4">
                    <a href="@Url.Action("Index", "Feedbackes")" class="btn btn-primary">Add Feedback</a>
                </div>

                <div class="owl-carousel testimonial-carousel position-relative pb-5 mb-md-5">
                    @foreach (var item in ViewBag.feedback)
                    {
                        <div class="d-flex flex-column">
                            <div class="d-flex align-items-center mb-3">
                                <img class="img-fluid rounded-circle" src="~/fileProfile/images/@item.Profile.ProfilePictureUrl" style="width: 60px; height: 60px;" alt="">
                                <div class="ml-3">
                                    <h5>@item.Profile.Name</h5>
                                    <i>@item.Job</i>
                                </div>
                            </div>
                            <p class="m-0">@item.Content</p>
                        </div>
                        
                    }
                    
                </div>
            </div>
            <div class="col-md-5">
                <div class="d-flex flex-column align-items-center justify-content-center h-100 overflow-hidden">
                    <img class="h-100" src="~/img/testimonial.jpg" alt="">
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Testimonial End -->
<!-- Blog Start -->
<div class="container-fluid bg-light pt-5">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8 col text-center mb-4">
                <h6 class="text-primary font-weight-normal text-uppercase mb-3">Our Blog</h6>
                <h1 class="mb-4">Read The Latest News & Articles From Our Blog</h1>
            </div>
        </div>
        <div class="row pb-3">
            @{
                var items = ((IEnumerable<Item>)ViewBag.items).Where(x => x.Blog != null).ToList();
                List<Item> a = new List<Item>();

                // إذا كانت القائمة تحتوي على عناصر، احصل على آخر 3 عناصر
                if (items.Count > 0)
                {
                    for (int i = items.Count - 1; i >= Math.Max(items.Count - 3, 0); i--)
                    {
                        a.Add(items[i]);
                    }
                }
                @if (ViewBag.items == null || !((IEnumerable<Item>)ViewBag.items).Any())
                {
                    <p>No items found.</p>
                }

                @foreach (var item in a)
                {

                    <div class="col-md-4 mb-4">
                        <div class="card border-0 mb-2">
                            <img class="card-img-top" src="~/files/images/@item.ImageName" alt="">
                            <div class="card-body bg-white p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <a class="btn btn-primary" href="@Url.Action("InfoBlog", "Home", new { id = item.Id})"><i class="fa fa-link"></i></a>
                                    <h5 class="m-0 ml-3 text-truncate">@item.Name</h5>
                                </div>
                                <p>@Html.Raw(item.Description)</p>
                                <div class="d-flex">
                                    <small class="mr-3"><i class="fa fa-user text-primary"></i> Admin</small>
                                    <small class="mr-3"><i class="fa fa-folder text-primary"></i> @item.Design.Name</small>

                                </div>
                            </div>
                        </div>
                    </div>
                }

            }
            
        </div>
    </div>
</div>
<!-- Blog End -->



